<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsf/jstl/core"
      xmlns:fn="http://xmlns.jcp.org/jsf/jstl/functions"
      xmlns:p="http://primefaces.org/ui">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JSF - Sistema de Roteamento</title>
    
    <!-- Bootstrap CSS para estilização -->
    <h:outputStylesheet library="css" name="bootstrap.min.css" />
    
    <!-- Tema de Cores do Java -->
    <h:outputStylesheet library="css" name="java-theme.css" />
    <h:outputStylesheet library="css" name="java-theme-additional.css" />
</head>

<body>
    <div class="container mt-4">
        <!-- CONCEITO DIDÁTICO - Cabeçalho JSF -->
        <div class="row">
            <div class="col-12">
                <h1 class="text-success">JSF (JavaServer Faces)</h1>
                <p class="lead">Demonstração educativa dos conceitos básicos de JSF</p>
                <hr>
            </div>
        </div>

        <!-- CONCEITO DIDÁTICO - Navegação entre tecnologias -->
        <div class="row mb-4">
            <div class="col-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <div class="container-fluid">
                        <span class="navbar-brand">Navegação Educativa:</span>
                        <div class="navbar-nav">
                            <a class="nav-link" href="/educativo">Início</a>
                            <a class="nav-link" href="/educativo/jsp">JSP</a>
                            <a class="nav-link active" href="/educativo/jsf">JSF</a>
                            <a class="nav-link" href="/educativo/comparacao">Comparação</a>
                            <a class="nav-link" href="/educativo/integracao">Integração</a>
                        </div>
                    </div>
                </nav>
            </div>
        </div>

        <!-- CONCEITO DIDÁTICO - Componentes JSF Básicos -->
        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h5>Componentes JSF Básicos</h5>
                    </div>
                    <div class="card-body">
                        <div class="jsf-component">
                            <h6>Formulário JSF:</h6>
                            <!-- CONCEITO DIDÁTICO - Form JSF -->
                            <h:form id="formJSF">
                                <div class="mb-3">
                                    <label class="form-label">Nome:</label>
                                    <!-- CONCEITO DIDÁTICO - Input JSF -->
                                    <h:inputText value="#{educativoBean.nome}" 
                                               styleClass="form-control"
                                               required="true"
                                               requiredMessage="Nome é obrigatório" />
                                    <!-- CONCEITO DIDÁTICO - Mensagens de erro -->
                                    <h:message for="formJSF:nome" styleClass="text-danger" />
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label">Email:</label>
                                    <!-- CONCEITO DIDÁTICO - Input com validação -->
                                    <h:inputText value="#{educativoBean.email}" 
                                               styleClass="form-control"
                                               validator="#{educativoBean.validarEmail}" />
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label">Tecnologia Preferida:</label>
                                    <!-- CONCEITO DIDÁTICO - Select JSF -->
                                    <h:selectOneMenu value="#{educativoBean.tecnologiaPreferida}" 
                                                   styleClass="form-select">
                                        <f:selectItem itemValue="jsp" itemLabel="JSP" />
                                        <f:selectItem itemValue="jsf" itemLabel="JSF" />
                                        <f:selectItem itemValue="rest" itemLabel="REST API" />
                                        <f:selectItem itemValue="react" itemLabel="React" />
                                    </h:selectOneMenu>
                                </div>
                                
                                <!-- CONCEITO DIDÁTICO - Botão JSF -->
                                <h:commandButton value="Enviar" 
                                               action="#{educativoBean.processarFormulario}"
                                               styleClass="btn btn-primary" />
                            </h:form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h5>Dados do Formulário</h5>
                    </div>
                    <div class="card-body">
                        <!-- CONCEITO DIDÁTICO - Output JSF -->
                        <div class="jsf-component">
                            <h6>Valores Atuais:</h6>
                            <p><strong>Nome:</strong> <h:outputText value="#{educativoBean.nome}" /></p>
                            <p><strong>Email:</strong> <h:outputText value="#{educativoBean.email}" /></p>
                            <p><strong>Tecnologia:</strong> <h:outputText value="#{educativoBean.tecnologiaPreferida}" /></p>
                            
                            <!-- CONCEITO DIDÁTICO - Condicionais JSF -->
                            <h6>Análise:</h6>
                            <h:panelGroup rendered="#{educativoBean.nome != null and educativoBean.nome != ''}">
                                <div class="alert alert-success">
                                    ✓ Formulário preenchido com sucesso!
                                </div>
                            </h:panelGroup>
                            
                            <h:panelGroup rendered="#{educativoBean.nome == null or educativoBean.nome == ''}">
                                <div class="alert alert-warning">
                                    ⚠ Preencha o formulário para ver os dados
                                </div>
                            </h:panelGroup>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONCEITO DIDÁTICO - Tabela de Dados JSF -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5>Listagem de Coletas com JSF</h5>
                    </div>
                    <div class="card-body">
                        <!-- CONCEITO DIDÁTICO - DataTable JSF -->
                        <h:dataTable value="#{educativoBean.coletas}" 
                                    var="coleta"
                                    styleClass="table table-striped"
                                    headerClass="table-dark"
                                    rowClasses="table-light,table-white">
                            
                            <!-- CONCEITO DIDÁTICO - Colunas da tabela -->
                            <h:column>
                                <f:facet name="header">ID</f:facet>
                                <h:outputText value="#{coleta.id}" />
                            </h:column>
                            
                            <h:column>
                                <f:facet name="header">Usuário</f:facet>
                                <h:outputText value="#{coleta.nomeUsuario}" />
                            </h:column>
                            
                            <h:column>
                                <f:facet name="header">Endereço</f:facet>
                                <h:outputText value="#{fn:substring(coleta.endereco, 0, 30)}..." />
                            </h:column>
                            
                            <h:column>
                                <f:facet name="header">Status</f:facet>
                                <!-- CONCEITO DIDÁTICO - Condicionais em colunas -->
                                <h:outputText value="#{coleta.status}" 
                                             styleClass="badge #{coleta.status == 'SOLICITADA' ? 'bg-warning' : 
                                                              coleta.status == 'ACEITA' ? 'bg-info' : 
                                                              coleta.status == 'COLETADA' ? 'bg-success' : 'bg-secondary'}" />
                            </h:column>
                            
                            <h:column>
                                <f:facet name="header">Ações</f:facet>
                                <!-- CONCEITO DIDÁTICO - Botões de ação -->
                                <h:commandButton value="Ver" 
                                               action="#{educativoBean.verColeta(coleta)}"
                                               styleClass="btn btn-sm btn-info me-1" />
                                <h:commandButton value="Editar" 
                                               action="#{educativoBean.editarColeta(coleta)}"
                                               styleClass="btn btn-sm btn-warning" />
                            </h:column>
                        </h:dataTable>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONCEITO DIDÁTICO - Vantagens e Desvantagens -->
        <div class="row mt-4">
            <div class="col-md-6">
                <div class="card border-success">
                    <div class="card-header bg-success text-white">
                        <h5>✓ Vantagens do JSF</h5>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <c:forEach var="vantagem" items="#{educativoBean.vantagens}">
                                <li class="list-group-item advantage">#{vantagem}</li>
                            </c:forEach>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card border-danger">
                    <div class="card-header bg-danger text-white">
                        <h5>✗ Desvantagens do JSF</h5>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <c:forEach var="desvantagem" items="#{educativoBean.desvantagens}">
                                <li class="list-group-item disadvantage">#{desvantagem}</li>
                            </c:forEach>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONCEITO DIDÁTICO - Exemplos de código JSF -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5>Exemplos de Código JSF</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h6>Managed Bean:</h6>
                                <div class="code-example">
@ManagedBean
@SessionScoped
public class EducativoBean {
    private String nome;
    private String email;
    
    public void processarFormulario() {
        // Lógica de processamento
    }
    
    // Getters e Setters
}
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6>Componentes JSF:</h6>
                                <div class="code-example">
&lt;h:form&gt;
    &lt;h:inputText value="#{bean.nome}" /&gt;
    &lt;h:commandButton action="#{bean.metodo}" /&gt;
&lt;/h:form&gt;

&lt;h:dataTable value="#{bean.lista}" var="item"&gt;
    &lt;h:column&gt;#{item.nome}&lt;/h:column&gt;
&lt;/h:dataTable&gt;
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONCEITO DIDÁTICO - Rodapé educativo -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="alert alert-info">
                    <h6>📚 Conceitos Educativos Demonstrados:</h6>
                    <ul class="mb-0">
                        <li><strong>Managed Beans:</strong> Beans gerenciados pelo JSF</li>
                        <li><strong>Componentes:</strong> Tags JSF para interface</li>
                        <li><strong>Validação:</strong> Validação integrada de formulários</li>
                        <li><strong>Navegação:</strong> Gerenciamento de navegação</li>
                        <li><strong>DataTable:</strong> Tabelas de dados dinâmicas</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
